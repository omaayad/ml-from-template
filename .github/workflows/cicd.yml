name: Deploy train pipeline
on:
  pull_request:
    branches: [ master ]

jobs:
  CI:
    uses: omaayad/ml-from-template/.github/workflows/ci.yml@dev.txt
    with:
      python-version: '3.8'
  QA:
    needs: CI
    uses: omaayad/ml-from-template/.github/workflows/cd.yml@dev.txt
    with:
      python-version: '3.8'
      environment: QA
  PROD:
    needs: [CI, QA]
    uses: omaayad/ml-from-template/.github/workflows/cd.yml@dev.txt
    with:
      python-version: '3.8'
      environment: PROD
